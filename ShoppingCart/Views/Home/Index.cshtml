@model IEnumerable<Store>

<div>
    <h1 class="display-4">All Stores</h1>
    
    @foreach(var store in Model) {
        <h3 class="mt-3">@store.Name</h3>
        <div class="mb-2">
            <a asp-action="Store" asp-route-id="@store.StoreID">View Details</a>
        </div>
        @if(store.StoreProducts.Any()) {
            <table class="table">
                <thead class="thead-light">
                    <tr>
                        <th>@Html.DisplayNameFor(x => store.StoreProducts.First().Product.Name)</th>
                        <th>@Html.DisplayNameFor(x => store.StoreProducts.First().Product.Price)</th>
                        <th>@Html.DisplayNameFor(x => store.StoreProducts.First().Quantity)</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var storeProduct in store.StoreProducts) {
                        <tr>
                            <td>@Html.DisplayFor(x => storeProduct.Product.Name)</td>
                            <td>@Html.DisplayFor(x => storeProduct.Product.Price)</td>
                            <td>@Html.DisplayFor(x => storeProduct.Quantity)</td>
                        </tr>
                    }
                </tbody>
            </table>
        } else {
            <p class="alert alert-info">This store has no products.</p>
        }
    }
</div>
